<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Scripts | Pota</title>
    <meta name="description" content="Pota documentation">
    <link rel="stylesheet" href="/pota/assets/style.93e88697.css">
    <link rel="modulepreload" href="/pota/assets/app.0975428b.js">
    <link rel="modulepreload" href="/pota/assets/combinations_muban_scripts.md.2ffc824b.lean.js">
    
    <meta name="twitter:title" content="Scripts | Pota">
  <meta property="og:title" content="Scripts | Pota">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-40587210><div class="sidebar-button" data-v-40587210><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/pota/" aria-label="Pota, back to home" data-v-40587210 data-v-016a8bd8><!----> Pota</a><div class="flex-grow" data-v-40587210></div><div class="nav" data-v-40587210><nav class="nav-links" data-v-40587210 data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item active" href="/pota/combinations/" data-v-49fe041d>Combinations <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/pota/templates/" data-v-49fe041d>Templates <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/pota/scripts/" data-v-49fe041d>Scripts <!----></a></div></div><!--]--><!----><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://github.com/mediamonks/pota" target="_blank" rel="noopener noreferrer" data-v-49fe041d>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-17c48e2f><nav class="nav-links nav" data-v-17c48e2f data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item active" href="/pota/combinations/" data-v-49fe041d>Combinations <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/pota/templates/" data-v-49fe041d>Templates <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/pota/scripts/" data-v-49fe041d>Scripts <!----></a></div></div><!--]--><!----><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://github.com/mediamonks/pota" target="_blank" rel="noopener noreferrer" data-v-49fe041d>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-17c48e2f><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/pota/combinations/">All Combinations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/pota/combinations/muban/">muban</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/pota/combinations/muban/scripts">Scripts</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#development">Development</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-dev">npm run dev</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-dev-mock-api">npm run dev -- --mock-api</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-build-watch">npm run build -- --watch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-build-debug-watch">npm run build -- --debug --watch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-storybook">npm run storybook</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-storybook-mock-api">npm run storybook:mock-api</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#builds">Builds</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-build">npm run build</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-build-preview">npm run build:preview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-build-debug">npm run build -- --debug</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-build-mock-api">npm run build -- --mock-api</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#npm-run-storybook-build">npm run storybook:build</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#others">Others</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#previewing-the-build">previewing the build</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#uploading-the-build-to-a-remote-server">uploading the build to a remote server</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#formatting-linting">Formatting/Linting</a><!----></li></ul></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/pota/combinations/muban/folder_structure">Folder Structure</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/pota/combinations/muban/pages">Pages</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/pota/combinations/muban/components">Components</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/pota/combinations/muban/assets">Assets</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-8fcebc32><div class="container" data-v-8fcebc32><!--[--><!--]--><div style="position:relative;" class="content" data-v-8fcebc32><div><h1 id="scripts" tabindex="-1">Scripts <a class="header-anchor" href="#scripts" aria-hidden="true">#</a></h1><p>The <code>package.json</code> is filled with scripts you can use to do all sorts of things in your project. The most important ones are described below.</p><h2 id="development" tabindex="-1">Development <a class="header-anchor" href="#development" aria-hidden="true">#</a></h2><h3 id="npm-run-dev" tabindex="-1"><code>npm run dev</code> <a class="header-anchor" href="#npm-run-dev" aria-hidden="true">#</a></h3><p>Your goto script when running local development against local page templates with live and hot reloading when any of your code changes.</p><p>It runs on a pair of webpack compilers: one for the Muban application bundle and one for converting page TypeScript files into HTML files.</p><p>The dev server runs on <code>http://localhost:9000</code>.</p><h3 id="npm-run-dev-mock-api" tabindex="-1"><code>npm run dev -- --mock-api</code> <a class="header-anchor" href="#npm-run-dev-mock-api" aria-hidden="true">#</a></h3><p>Runs the development server with an mock API middleware compiling the mocks from the <code>/mocks</code> directory.</p><h3 id="npm-run-build-watch" tabindex="-1"><code>npm run build -- --watch</code> <a class="header-anchor" href="#npm-run-build-watch" aria-hidden="true">#</a></h3><p>Runs the same build process as the normal <code>npm run build</code>, but now in watch mode, enjoying fast recompilations when your local files change.</p><h3 id="npm-run-build-debug-watch" tabindex="-1"><code>npm run build -- --debug --watch</code> <a class="header-anchor" href="#npm-run-build-debug-watch" aria-hidden="true">#</a></h3><p>Runs the same build process as the normal <code>npm run build -- --watch</code>, but the output code is without production optimizations.</p><p>Useful for live local development against your CMS rendered pages.</p><h3 id="npm-run-storybook" tabindex="-1"><code>npm run storybook</code> <a class="header-anchor" href="#npm-run-storybook" aria-hidden="true">#</a></h3><p>Develop and test your components in storybook.</p><h3 id="npm-run-storybook-mock-api" tabindex="-1"><code>npm run storybook:mock-api</code> <a class="header-anchor" href="#npm-run-storybook-mock-api" aria-hidden="true">#</a></h3><p>Same as <code>npm run storybook</code>, but with the mock API bundling and middleware enabled.</p><h2 id="builds" tabindex="-1">Builds <a class="header-anchor" href="#builds" aria-hidden="true">#</a></h2><h3 id="npm-run-build" tabindex="-1"><code>npm run build</code> <a class="header-anchor" href="#npm-run-build" aria-hidden="true">#</a></h3><p>Creates a distribution build that outputs the JavaScript, CSS and bundled asset files. Used in CI to deploy to your production websites.</p><h3 id="npm-run-build-preview" tabindex="-1"><code>npm run build:preview</code> <a class="header-anchor" href="#npm-run-build-preview" aria-hidden="true">#</a></h3><p>Generates a full preview package including generated HTML files to upload to a preview server that&#39;s not connected to any backend.</p><h3 id="npm-run-build-debug" tabindex="-1"><code>npm run build -- --debug</code> <a class="header-anchor" href="#npm-run-build-debug" aria-hidden="true">#</a></h3><p>Generates a debug build without any minification or other optimizations. Useful for integration tests where you are not deploying to production yet, but want to see your changes on a (local) integration server as soon as possible.</p><h3 id="npm-run-build-mock-api" tabindex="-1"><code>npm run build -- --mock-api</code> <a class="header-anchor" href="#npm-run-build-mock-api" aria-hidden="true">#</a></h3><p>In addition to the standard build, generates a node server for running <a href="https://github.com/mediamonks/monck" target="_blank" rel="noopener noreferrer">monck</a> mocks.</p><h3 id="npm-run-storybook-build" tabindex="-1"><code>npm run storybook:build</code> <a class="header-anchor" href="#npm-run-storybook-build" aria-hidden="true">#</a></h3><p>Make a deployable storybook build to showcase your components to others.</p><blockquote><p>NOTE: if you are unsure about what options you can pass to the <code>dev</code> or <code>build</code> scripts, you can always get more information by passing the <code>--help</code> argument. e.g. <code>npm run build -- --help</code></p></blockquote><h2 id="others" tabindex="-1">Others <a class="header-anchor" href="#others" aria-hidden="true">#</a></h2><h3 id="previewing-the-build" tabindex="-1">previewing the build <a class="header-anchor" href="#previewing-the-build" aria-hidden="true">#</a></h3><p>Sometimes you want to test the build output <code>npm run build:preview</code> to locally debug minification &amp; optimizations applied by webpack in production mode. Instead of shipping a custom server or a dependency to support this, we are recommending to utilize existing packages through <code>npx</code>:</p><blockquote><p>serve <code>./dist/site</code> directory</p></blockquote><div class="language-bash"><pre><code>npx http-server ./dist/site
</code></pre></div><blockquote><p>with SSL/TLS enabled (https)</p></blockquote><div class="language-bash"><pre><code>npx create-ssl-certificate <span class="token operator">&amp;&amp;</span> npx http-server ./dist/site -S -C ssl.crt -K ssl.key
</code></pre></div><blockquote><p>include running the built mocks from <code>./dist/node/mocks</code></p></blockquote><div class="language-bash"><pre><code>npx concurrently <span class="token string">&quot;npx monck -d ./dist/node/mocks -p 9002&quot;</span> <span class="token string">&quot;npx http-server ./dist/site --proxy http://localhost:9002&quot;</span>
</code></pre></div><h3 id="uploading-the-build-to-a-remote-server" tabindex="-1">uploading the build to a remote server <a class="header-anchor" href="#uploading-the-build-to-a-remote-server" aria-hidden="true">#</a></h3><p>If you do not have a backend setup to host your components, you likely still want to deploy your changes to a remote server. The skeleton provides two scripts to support uploading both the preview site and the <a href="https://github.com/mediamonks/monck" target="_blank" rel="noopener noreferrer">monck</a> mocks.</p><ul><li><code>npm run rsync</code> - upload the preview site</li><li><code>npm run rsync:mocks</code> - upload the mocks node server</li><li><code>npm run rsync:storybook</code> - upload the storybook build</li></ul><h3 id="formatting-linting" tabindex="-1">Formatting/Linting <a class="header-anchor" href="#formatting-linting" aria-hidden="true">#</a></h3><table><thead><tr><th>Script</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>typecheck</code></strong></td><td>Checks for type errors and unused variables/types in the source directory.</td></tr><tr><td><strong><code>fix</code></strong></td><td>Executes all <code>fix:*</code> and `format commands in sequence.</td></tr><tr><td><strong><code>fix:eslint</code></strong></td><td>Executes <code>eslint:lint</code> and fixes fixable errors.</td></tr><tr><td><strong><code>format</code></strong></td><td>Formats the source files using <code>prettier</code>.</td></tr><tr><td><strong><code>lint</code></strong></td><td>Executes all <code>lint:*</code> commands in sequence.</td></tr><tr><td><strong><code>lint:eslint</code></strong></td><td>Lints the source files using <code>eslint</code>.</td></tr></tbody></table></div></div><footer class="page-footer" data-v-8fcebc32 data-v-b65b4b36><div class="edit" data-v-b65b4b36><div class="edit-link" data-v-b65b4b36 data-v-55695e90><a class="link" href="https://github.com/mediamonks/pota/edit/main/docs/combinations/muban/scripts.md" target="_blank" rel="noopener noreferrer" data-v-55695e90>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-55695e90><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-b65b4b36><p class="last-updated" data-v-b65b4b36 data-v-7e06cdca><span class="prefix" data-v-7e06cdca>Last Updated:</span><span class="datetime" data-v-7e06cdca></span></p></div></footer><div class="next-and-prev-link" data-v-8fcebc32 data-v-e65a9748><div class="container" data-v-e65a9748><div class="prev" data-v-e65a9748><a class="link" href="/pota/combinations/muban/" data-v-e65a9748><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-e65a9748><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-e65a9748>muban</span></a></div><div class="next" data-v-e65a9748><a class="link" href="/pota/combinations/muban/folder_structure" data-v-e65a9748><span class="text" data-v-e65a9748>Folder Structure</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-e65a9748><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"combinations_index.md\":\"95137078\",\"combinations_muban_assets.md\":\"774a405e\",\"combinations_muban_components.md\":\"1bf738bf\",\"combinations_muban_folder_structure.md\":\"d6b1d5a9\",\"combinations_muban_index.md\":\"9bb1165e\",\"combinations_muban_pages.md\":\"08af2f97\",\"combinations_muban_scripts.md\":\"2ffc824b\",\"combinations_muban_twig.md\":\"4c49e444\",\"combinations_next_index.md\":\"e297aa56\",\"combinations_react-base_index.md\":\"f77c6447\",\"combinations_react_index.md\":\"aef4090d\",\"combinations_vanilla_index.md\":\"29877623\",\"index.md\":\"9ec04c23\",\"scripts_index.md\":\"e7affbcc\",\"scripts_muban-webpack.md\":\"65d23941\",\"scripts_plop.md\":\"d34cdb87\",\"scripts_react-vite.md\":\"7ce043ea\",\"scripts_react-webpack.md\":\"ce693a14\",\"scripts_vite.md\":\"d64316aa\",\"scripts_webpack.md\":\"6155437d\",\"templates_index.md\":\"40b8a5da\",\"templates_muban.md\":\"7fcb3756\",\"templates_next.md\":\"c3861592\",\"templates_react-base.md\":\"589d5848\",\"templates_react.md\":\"6c949d05\",\"templates_vanilla.md\":\"836d9150\"}")</script>
    <script type="module" async src="/pota/assets/app.0975428b.js"></script>
    
  </body>
</html>